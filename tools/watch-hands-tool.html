<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analog Clock Hand Designer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Custom styles for range sliders */
        input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 8px;
            background: #4a5568;
            border-radius: 5px;
            outline: none;
            opacity: 0.7;
            transition: opacity .2s;
        }
        input[type="range"]:hover {
            opacity: 1;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #a0aec0;
            cursor: pointer;
            border-radius: 50%;
        }
        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #a0aec0;
            cursor: pointer;
            border-radius: 50%;
        }
        .tab-active {
            background-color: #4a5568;
            color: #e2e8f0;
        }
        .template-btn-active {
            border-color: #63b3ed;
            background-color: #2c5282;
        }
    </style>
</head>
<body class="bg-gray-800 text-gray-300 flex flex-col items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-screen-2xl bg-gray-900 rounded-2xl shadow-2xl p-4 sm:p-6 md:p-8">
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-white">Analog Clock Hand Designer</h1>
            <p class="text-gray-400 mt-2">Create and customize clock hands for your projects.</p>
        </header>

        <main class="grid grid-cols-1 lg:grid-cols-[minmax(380px,450px)_1fr] gap-8">
            <div class="lg:col-span-1 bg-gray-800 p-6 rounded-xl space-y-6 self-start">
                <div>
                    <h2 class="text-xl font-semibold mb-3 text-white">1. Select Hand</h2>
                    <div id="hand-selector" class="flex bg-gray-700 rounded-lg p-1">
                        <button data-hand="hour" class="flex-1 p-2 rounded-md text-sm sm:text-base transition-all duration-300">Hour</button>
                        <button data-hand="minute" class="flex-1 p-2 rounded-md text-sm sm:text-base transition-all duration-300">Minute</button>
                        <button data-hand="second" class="flex-1 p-2 rounded-md text-sm sm:text-base transition-all duration-300">Second</button>
                    </div>
                </div>

                <div>
                    <h2 class="text-xl font-semibold mb-3 text-white">2. Choose Template</h2>
                    <div id="template-selector" class="grid grid-cols-2 gap-3">
                        <button data-template="simple" class="p-3 bg-gray-700 rounded-lg border-2 border-transparent hover:border-blue-400 transition-colors duration-200">Simple</button>
                        <button data-template="elegant" class="p-3 bg-gray-700 rounded-lg border-2 border-transparent hover:border-blue-400 transition-colors duration-200">Elegant</button>
                        <button data-template="modern" class="p-3 bg-gray-700 rounded-lg border-2 border-transparent hover:border-blue-400 transition-colors duration-200">Modern</button>
                        <button data-template="pointer" class="p-3 bg-gray-700 rounded-lg border-2 border-transparent hover:border-blue-400 transition-colors duration-200">Pointer</button>
                    </div>
                </div>

                <div>
                    <h2 class="text-xl font-semibold mb-3 text-white">3. Adjust Dimensions</h2>
                    <div class="space-y-4">
                        <div>
                            <label for="width-slider" class="flex justify-between items-center text-sm"><span>Width</span><span id="width-value" class="font-mono bg-gray-700 px-2 py-0.5 rounded"></span></label>
                            <input id="width-slider" type="range" min="1" max="50" class="mt-1">
                        </div>
                        <div>
                            <label for="height-slider" class="flex justify-between items-center text-sm"><span>Length</span><span id="height-value" class="font-mono bg-gray-700 px-2 py-0.5 rounded"></span></label>
                            <input id="height-slider" type="range" min="10" max="1200" class="mt-1">
                        </div>
                        <div>
                            <label for="color-picker" class="flex justify-between items-center text-sm"><span>Color</span><span id="color-value" class="font-mono bg-gray-700 px-2 py-0.5 rounded"></span></label>
                            <input id="color-picker" type="color" class="mt-1 w-full h-10 p-1 bg-gray-700 rounded-lg cursor-pointer">
                        </div>
                    </div>
                </div>

                <div class="pt-4">
                     <button id="download-btn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg">
                         <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block mr-2" viewBox="0 0 20 20" fill="currentColor">
                           <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />
                         </svg>
                         Download Hands
                     </button>
                </div>
            </div>

            <div class="lg:col-span-1 bg-gray-800 p-4 rounded-xl flex items-center justify-center">
                <div class="w-full h-full overflow-auto border border-gray-700 rounded-lg">
                     <canvas id="clock-canvas"></canvas>
                </div>
            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // DOM Elements
            const canvas = document.getElementById('clock-canvas');
            const ctx = canvas.getContext('2d');
            const handSelector = document.getElementById('hand-selector');
            const templateSelector = document.getElementById('template-selector');
            const widthSlider = document.getElementById('width-slider');
            const heightSlider = document.getElementById('height-slider');
            const colorPicker = document.getElementById('color-picker');
            const widthValue = document.getElementById('width-value');
            const heightValue = document.getElementById('height-value');
            const colorValue = document.getElementById('color-value');
            const downloadBtn = document.getElementById('download-btn');

            // State
            let activeHand = 'hour';
            const hands = {
                hour: { template: 'simple', width: 20, height: 300, color: '#e2e8f0' },
                minute: { template: 'simple', width: 14, height: 500, color: '#e2e8f0' },
                second: { template: 'pointer', width: 6, height: 550, color: '#ef4444' }
            };

            // Hand Template Drawing Functions
            const templates = {
                simple: (ctx, w, h, c) => {
                    ctx.fillStyle = c;
                    ctx.beginPath();
                    ctx.roundRect(-w / 2, -h + (w*2), w, h - (w*2), w / 2);
                    ctx.fill();
                },
                elegant: (ctx, w, h, c) => {
                    ctx.fillStyle = c;
                    ctx.beginPath();
                    ctx.moveTo(0, 0);
                    ctx.lineTo(-w / 2, -15);
                    ctx.lineTo(-w / 3, -h + 20);
                    ctx.lineTo(0, -h);
                    ctx.lineTo(w / 3, -h + 20);
                    ctx.lineTo(w / 2, -15);
                    ctx.closePath();
                    ctx.fill();
                },
                modern: (ctx, w, h, c) => {
                    ctx.strokeStyle = c;
                    ctx.lineWidth = w;
                    ctx.lineCap = 'round';
                    ctx.beginPath();
                    ctx.moveTo(0, 15);
                    ctx.lineTo(0, -h);
                    ctx.stroke();
                },
                pointer: (ctx, w, h, c) => {
                    ctx.fillStyle = c;
                    // Main hand
                    ctx.beginPath();
                    ctx.roundRect(-w / 2, -h, w, h, w / 2);
                    ctx.fill();
                    // Tail
                    ctx.beginPath();
                    ctx.roundRect(-w/1.5, 0, w * 1.5, 25, w);
                    ctx.fill();
                }
            };
            
            // --- Drawing Functions ---
            function drawClockFace() {
                const radius = canvas.width / 2;
                ctx.strokeStyle = '#4a5568';
                ctx.lineWidth = 4;

                // Outer circle
                ctx.beginPath();
                ctx.arc(0, 0, radius * 0.95, 0, 2 * Math.PI);
                ctx.stroke();
                
                // Center dot
                ctx.fillStyle = '#cbd5e0';
                ctx.beginPath();
                ctx.arc(0, 0, 15, 0, 2 * Math.PI);
                ctx.fill();
                
                // Hour markers
                 ctx.lineWidth = 8;
                for (let i = 0; i < 12; i++) {
                    const angle = (i * 30) * Math.PI / 180;
                    const x1 = Math.sin(angle) * (radius * 0.88);
                    const y1 = -Math.cos(angle) * (radius * 0.88);
                    const x2 = Math.sin(angle) * (radius * 0.94);
                    const y2 = -Math.cos(angle) * (radius * 0.94);
                    ctx.beginPath();
                    ctx.moveTo(x1, y1);
                    ctx.lineTo(x2, y2);
                    ctx.stroke();
                }
            }

            function drawAllHands() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.save();
                ctx.translate(canvas.width / 2, canvas.height / 2);
                
                drawClockFace();

                // Draw hands in order: hour, minute, second
                ['hour', 'minute', 'second'].forEach(handType => {
                    const hand = hands[handType];
                    const drawFunc = templates[hand.template];
                    ctx.save();
                    drawFunc(ctx, hand.width, hand.height, hand.color);
                    ctx.restore();
                });
                
                ctx.restore(); // Reset transform
            }
            
            // --- UI Update Functions ---
            function updateControls() {
                const hand = hands[activeHand];
                widthSlider.value = hand.width;
                widthValue.textContent = hand.width + 'px';
                heightSlider.value = hand.height;
                heightValue.textContent = hand.height + 'px';
                colorPicker.value = hand.color;
                colorValue.textContent = hand.color.toUpperCase();

                // Update active tab
                handSelector.querySelectorAll('button').forEach(btn => {
                    btn.classList.toggle('tab-active', btn.dataset.hand === activeHand);
                });

                // Update active template button
                templateSelector.querySelectorAll('button').forEach(btn => {
                    btn.classList.toggle('template-btn-active', btn.dataset.template === hand.template);
                });
            }

            // --- Event Handlers ---
            handSelector.addEventListener('click', (e) => {
                if (e.target.tagName === 'BUTTON') {
                    activeHand = e.target.dataset.hand;
                    updateControls();
                }
            });

            templateSelector.addEventListener('click', (e) => {
                if (e.target.tagName === 'BUTTON') {
                    hands[activeHand].template = e.target.dataset.template;
                    updateControls();
                    drawAllHands();
                }
            });

            widthSlider.addEventListener('input', (e) => {
                hands[activeHand].width = parseInt(e.target.value, 10);
                updateControls();
                drawAllHands();
            });

            heightSlider.addEventListener('input', (e) => {
                hands[activeHand].height = parseInt(e.target.value, 10);
                updateControls();
                drawAllHands();
            });
            
            colorPicker.addEventListener('input', (e) => {
                hands[activeHand].color = e.target.value;
                updateControls();
                drawAllHands();
            });

            downloadBtn.addEventListener('click', () => {
                const tempCanvas = document.createElement('canvas');
                const tempCtx = tempCanvas.getContext('2d');
                // Adjust download size for potentially larger hands
                const maxSize = Math.max(hands.hour.height, hands.minute.height, hands.second.height);
                const size = Math.ceil((maxSize + 100)); 
                tempCanvas.width = size;
                tempCanvas.height = size;
                
                ['hour', 'minute', 'second'].forEach(handType => {
                    const hand = hands[handType];
                    const drawFunc = templates[hand.template];
                    
                    tempCtx.clearRect(0, 0, size, size);
                    tempCtx.save();
                    // CORRECTED LINE: Translate to the true center of the canvas
                    tempCtx.translate(size / 2, size / 2); 
                    drawFunc(tempCtx, hand.width, hand.height, hand.color);
                    tempCtx.restore();
                    
                    const a = document.createElement('a');
                    a.href = tempCanvas.toDataURL('image/png');
                    a.download = `${handType}-hand.png`;
                    a.click();
                });
            });
            
            // --- Initialization ---
            function init() {
                // Set fixed canvas size
                const dialSize = 1200;
                canvas.width = dialSize;
                canvas.height = dialSize;

                updateControls();
                drawAllHands();
            }

            init();
        });
    </script>
</body>
</html>
